@page "/"
@rendermode InteractiveServer

<PageTitle>POKER</PageTitle>

<Container>
    <Row>
        <Column ColumnSize="ColumnSize.Is8">
            <Card>
                <CardHeader>Spelare</CardHeader>
                <CardBody>
                    <CardText>
                        
                        <Table FixedHeader FixedHeaderTableHeight="300px">
                            <TableHeader>
                                <TableRow>
                                    <TableHeaderCell>#</TableHeaderCell>
                                    <TableHeaderCell>Spelare</TableHeaderCell>
                                    <TableHeaderCell>Poäng runda 1</TableHeaderCell>
                                    <TableHeaderCell>Poäng runda 2</TableHeaderCell>
                                    <TableHeaderCell>Total poäng</TableHeaderCell>
                                </TableRow>
                            </TableHeader>
                            <TableBody>
                                @foreach(var player in _players)
                                {
                                    <TableRow @key="@player.Name">
                                        <TableRowHeader>1</TableRowHeader>
                                        <TableRowCell>@player.Name</TableRowCell>
                                        <TableRowCell>0</TableRowCell>
                                        <TableRowCell>0</TableRowCell>
                                        <TableRowCell>0</TableRowCell>
                                    </TableRow>
                                }
                            </TableBody>
                        </Table>
                        
                        
                        @foreach (var player in _players)
                        {
                            <p>@player.Name</p>
                        }
                    </CardText>
                </CardBody>
            </Card>
        </Column>
        <Column ColumnSize="ColumnSize.Is4">
            <Card>
                <CardHeader>Registera spelare</CardHeader>
                <CardBody>
                    <CardText>
                        <Field>
                            <FieldLabel>Namn:</FieldLabel>
                            <TextEdit @bind-Text="@name"></TextEdit>
                        </Field>
                    </CardText>
                </CardBody>

                <CardFooter>
                    <Button @onclick="AddPlayer">Registera</Button>
                </CardFooter>
            </Card>
        </Column>
    </Row>
</Container>

@code {
    private string name;

    private List<Player> _players = new List<Player>();

    private void AddPlayer()
    {
        _players.Add(new Player(name));
        name = string.Empty;
    }

}